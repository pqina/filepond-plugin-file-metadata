/*
 * FilePondPluginFileMetadata 1.0.1
 * Licensed under MIT, https://opensource.org/licenses/MIT
 * Please visit https://pqina.nl/filepond for details.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.FilePondPluginFileMetadata=e()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,r){var a={key:t,arg:e,resolve:n,reject:r,next:null};i?i=i.next=a:(u=i=a,o(t,e))})}function o(n,u){try{var i=e[n](u),a=i.value;a instanceof t?Promise.resolve(a.value).then(function(t){o("next",t)},function(t){o("throw",t)}):r(i.done?"return":"normal",i.value)}catch(f){r("throw",f)}}function r(t,e){switch(t){case"return":u.resolve({value:e,done:!0});break;case"throw":u.reject(e);break;default:u.resolve({value:e,done:!1})}u=u.next,u?o(u.key,u.arg):i=null}var u,i;this._invoke=n,"function"!=typeof e["return"]&&(this["return"]=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype["throw"]=function(t){return this._invoke("throw",t)},e.prototype["return"]=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),function(e){var n=e.addFilter,o=e.utils,r=o.Type;return n("SET_ATTRIBUTE_TO_OPTION_MAP",function(t){return Object.assign(t,{"^fileMetadata":{group:"fileMetadataObject"}})}),n("DID_LOAD_ITEM",function(e,n){var o=n.query;return new Promise(function(n,r){if(!o("GET_ALLOW_FILE_METADATA"))return n(e);var u=o("GET_FILE_METADATA_OBJECT");"object"===("undefined"==typeof u?"undefined":t(u))&&Object.keys(u).forEach(function(t){e.setMetadata(t,u[t])}),n(e)})}),{options:{allowFileMetadata:[!0,r.BOOLEAN],fileMetadataObject:[null,r.OBJECT]}}});return"undefined"!=typeof navigator&&document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});